<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Libmagicxx: Libmagicxx</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Libmagicxx<span id="projectnumber">&#160;v9.1.0</span>
   </div>
   <div id="projectbrief">A C++ wrapper library over the Magic Number Recognition Library.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('index.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Libmagicxx </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a></p>
<p><a href="https://github.com/oguztoraman/libmagicxx/releases/latest"><img src="https://img.shields.io/github/v/release/oguztoraman/libmagicxx?label=release" alt="Latest Release" class="inline"/></a> <a href="https://www.gnu.org/licenses/lgpl-3.0"><img src="https://img.shields.io/badge/License-LGPL%20v3-blue.svg" alt="License: LGPL v3" style="pointer-events: none;" class="inline"/></a> <a href="https://en.cppreference.com/w/cpp/23"><img src="https://img.shields.io/badge/C%2B%2B-23-blue.svg" alt="C++ Standard: C++23" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/oguztoraman/libmagicxx/releases/latest"><img src="https://img.shields.io/github/downloads/oguztoraman/libmagicxx/total" alt="Downloads" class="inline"/></a></p>
<p><b>Libmagicxx</b> is a C++ wrapper library over the <a href="https://github.com/file/file#readme-for-file1-command-and-the-libmagic3-library">Magic Number Recognition Library</a>. It provides an easy-to-use interface through the <span class="tt">magic</span> class, enabling the <em>identification of file types</em> based on their content rather than file extensions.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md74"></a>
Table of Contents</h1>
<ul>
<li>Key Features</li>
<li>Supported Platforms</li>
<li>Project Status</li>
<li>Code Quality</li>
<li>Quick Start</li>
<li>Downloading Libmagicxx</li>
<li>Installing Libmagicxx</li>
<li>Using Libmagicxx with CMake</li>
<li>Magic States</li>
<li>Libmagicxx CMake Package Variables</li>
<li>Examples</li>
<li>Documentation</li>
<li>Uninstalling Libmagicxx</li>
<li>Contributing</li>
<li>Security</li>
<li>Source Code</li>
<li>License</li>
<li>Disclaimer</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md75"></a>
Key Features</h1>
<ul>
<li><b>Modern C++ (C++23)</b>: Utilizes modern C++ standards and features, ensuring clean, efficient, and maintainable code.</li>
<li><b>High-Level API</b>: Provides a simple and intuitive high-level API for easy integration and use.</li>
<li><b>Simple Integration with CMake</b>: Easily integrate file type recognition into your CMake-based C++ projects.</li>
<li><b>Cross Platform</b>: Compatible with both Windows and Linux, ensuring broad usability and flexibility in various development environments.</li>
<li><b>Comprehensive Documentation</b>: Detailed documentation and examples to help you get started quickly and effectively.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md76"></a>
Supported Platforms</h1>
<ul>
<li>Linux (x86_64)</li>
<li>Windows (x86_64)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md77"></a>
Project Status</h1>
<p><img src="https://github.com/oguztoraman/libmagicxx/actions/workflows/build_and_test_linux_gcc.yml/badge.svg" alt="Linux GCC" style="pointer-events: none;" class="inline"/> <img src="https://github.com/oguztoraman/libmagicxx/actions/workflows/build_and_test_linux_clang.yml/badge.svg" alt="Linux Clang" style="pointer-events: none;" class="inline"/> <img src="https://github.com/oguztoraman/libmagicxx/actions/workflows/build_windows_mingw64.yml/badge.svg" alt="Windows MinGW64" style="pointer-events: none;" class="inline"/> <img src="https://github.com/oguztoraman/libmagicxx/actions/workflows/build_windows_clang.yml/badge.svg" alt="Windows Clang" style="pointer-events: none;" class="inline"/></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md78"></a>
Code Quality</h1>
<p><a href="https://app.codacy.com/gh/oguztoraman/libmagicxx/dashboard?utm_source=gh&amp;utm_medium=referral&amp;utm_content=&amp;utm_campaign=Badge_grade"><img src="https://app.codacy.com/project/badge/Grade/e7067c7f0a87475c8f0ceda254b9a240" alt="Codacy Badge" class="inline"/></a> <a href="https://sonarcloud.io/summary/new_code?id=oguztoraman_libmagicxx"><img src="https://sonarcloud.io/api/project_badges/measure?project=oguztoraman_libmagicxx&amp;metric=alert_status" alt="Quality Gate Status" class="inline"/></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md79"></a>
Quick Start</h1>
<ol type="1">
<li>Download the latest release from the <a href="https://github.com/oguztoraman/libmagicxx/releases/latest">GitHub Releases page</a>.</li>
<li>Install the package for your platform (see instructions below).</li>
<li>Link Libmagicxx in your CMake project (see usage instructions below).</li>
</ol>
<h1 class="doxsection"><a class="anchor" id="autotoc_md80"></a>
Downloading Libmagicxx</h1>
<p>You can download the latest release packages and source code directly from the <a href="https://github.com/oguztoraman/libmagicxx/releases">GitHub Releases page</a>.</p>
<ul>
<li><b><a href="https://github.com/oguztoraman/libmagicxx/releases/latest">Latest Release</a></b>: Download the most recent version of Libmagicxx, including pre-built packages for Linux and Windows, as well as the source code archive.</li>
<li><b><a href="https://github.com/oguztoraman/libmagicxx/releases">All Releases</a></b>: Browse and download previous versions.</li>
</ul>
<p>After downloading, follow the installation instructions below for your platform.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md81"></a>
Installing Libmagicxx</h1>
<p><b>For Debian-based Linux distributions</b>: Use the <span class="tt">apt</span> command to install the <span class="tt">.deb</span> package.</p>
<div class="fragment"><div class="line">sudo apt install libmagicxx-&lt;version&gt;-linux-x86_64.deb</div>
</div><!-- fragment --><p><b>For Red Hat-based Linux distributions</b>: Use the <span class="tt">dnf</span> command to install the <span class="tt">.rpm</span> package.</p>
<div class="fragment"><div class="line">sudo dnf install libmagicxx-&lt;version&gt;-linux-x86_64.rpm</div>
</div><!-- fragment --><p><b>For Windows</b>: Install the <span class="tt">libmagicxx-&lt;version&gt;-windows-x86_64.exe</span> package provided by the NSIS installer. Run the installer and follow the on-screen instructions to complete the installation.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md82"></a>
Using Libmagicxx with CMake</h1>
<p>Libmagicxx is designed to be easily integrated into CMake-based projects. To use Libmagicxx in your project after installation, follow these steps:</p>
<ol type="1">
<li><p class="startli">Add the following lines to the top level <span class="tt">CMakeLists.txt</span> file of your project to include and link Libmagicxx.</p>
<div class="fragment"><div class="line">find_package(magicxx REQUIRED)</div>
<div class="line"> </div>
<div class="line">target_link_libraries(&lt;name of your project&gt;</div>
<div class="line">    &lt;PUBLIC or PRIVATE or INTERFACE&gt; &lt;recognition::magicxx or recognition::magicxx_static&gt;</div>
<div class="line">)</div>
</div><!-- fragment --></li>
<li><p class="startli">Include the <span class="tt">magic.hpp</span> header file in your source files. Below is an example code snippet that demonstrates how to print the MIME type of the default database file using the <span class="tt">magic</span> class.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;print&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="magic_8hpp.html">magic.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> main(<span class="keywordtype">int</span>, <span class="keywordtype">char</span>**) -&gt; <span class="keywordtype">int</span></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacerecognition.html">recognition</a>;</div>
<div class="line">    <a class="code hl_class" href="classrecognition_1_1magic.html">magic</a> m{<a class="code hl_enumvalue" href="classrecognition_1_1magic.html#a41764bcc1857661422a1b062c9cdacdeaac78781d57fb5dfc24a15052316a4377">magic::flags::mime</a>};</div>
<div class="line">    std::println(std::cout, <span class="stringliteral">&quot;{}&quot;</span>, m.<a class="code hl_function" href="classrecognition_1_1magic.html#a7f4eef771654d6f0a9118fec6517630d">identify_file</a>(<a class="code hl_variable" href="classrecognition_1_1magic.html#a9bd11faed14ce4add011a66fe50e0b73">magic::default_database_file</a>));</div>
<div class="line">    <span class="comment">// possible output: text/x-file; charset=us-ascii</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassrecognition_1_1magic_html"><div class="ttname"><a href="classrecognition_1_1magic.html">recognition::magic</a></div><div class="ttdoc">The magic class provides a C++ wrapper over the Magic Number Recognition Library.</div><div class="ttdef"><b>Definition</b> magic.hpp:30</div></div>
<div class="ttc" id="aclassrecognition_1_1magic_html_a41764bcc1857661422a1b062c9cdacdeaac78781d57fb5dfc24a15052316a4377"><div class="ttname"><a href="classrecognition_1_1magic.html#a41764bcc1857661422a1b062c9cdacdeaac78781d57fb5dfc24a15052316a4377">recognition::magic::mime</a></div><div class="ttdeci">@ mime</div><div class="ttdef"><b>Definition</b> magic.hpp:119</div></div>
<div class="ttc" id="aclassrecognition_1_1magic_html_a7f4eef771654d6f0a9118fec6517630d"><div class="ttname"><a href="classrecognition_1_1magic.html#a7f4eef771654d6f0a9118fec6517630d">recognition::magic::identify_file</a></div><div class="ttdeci">file_type_t identify_file(const std::filesystem::path &amp;path) const</div><div class="ttdoc">Identify the type of a file.</div><div class="ttdef"><b>Definition</b> magic.cpp:1057</div></div>
<div class="ttc" id="aclassrecognition_1_1magic_html_a9bd11faed14ce4add011a66fe50e0b73"><div class="ttname"><a href="classrecognition_1_1magic.html#a9bd11faed14ce4add011a66fe50e0b73">recognition::magic::default_database_file</a></div><div class="ttdeci">static std::string_view default_database_file</div><div class="ttdoc">The path of the default database file.</div><div class="ttdef"><b>Definition</b> magic.hpp:184</div></div>
<div class="ttc" id="amagic_8hpp_html"><div class="ttname"><a href="magic_8hpp.html">magic.hpp</a></div></div>
<div class="ttc" id="anamespacerecognition_html"><div class="ttname"><a href="namespacerecognition.html">recognition</a></div><div class="ttdef"><b>Definition</b> magic.hpp:19</div></div>
</div><!-- fragment --></li>
</ol>
<h1 class="doxsection"><a class="anchor" id="autotoc_md83"></a>
Magic States</h1>
<p>Libmagicxx's <span class="tt">magic</span> class can be in several states, which affect its usability:</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md84"></a>
1. Closed Magic</h2>
<ul>
<li>The magic is considered closed if it has not been opened or has been explicitly closed using the <span class="tt">close()</span> method.</li>
<li>In this state, it cannot be used for file type identification.</li>
<li>Methods that require an open magic (e.g., <span class="tt">identify_file</span>, <span class="tt">get_flags</span>, etc.) will throw or return errors if called.</li>
<li><span class="tt">is_open()</span> returns false.</li>
<li><span class="tt">is_database_loaded()</span> returns false.</li>
<li><span class="tt">is_valid()</span> returns false.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md85"></a>
2. Opened Magic Without Database</h2>
<ul>
<li>The magic is open (after <span class="tt">open()</span>), but no database file has been loaded via <span class="tt">load_database_file()</span>.</li>
<li>In this state, it is not valid for file type identification.</li>
<li>Methods that require a loaded database (e.g., <span class="tt">identify_file</span>) will throw or return errors if called.</li>
<li><span class="tt">is_open()</span> returns true.</li>
<li><span class="tt">is_database_loaded()</span> returns false.</li>
<li><span class="tt">is_valid()</span> returns false.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md86"></a>
3. Valid Magic</h2>
<ul>
<li>The magic is valid if it is open and a magic database file has been successfully loaded.</li>
<li>In this state, it can be used for file type identification.</li>
<li><span class="tt">is_open()</span> returns true.</li>
<li><span class="tt">is_database_loaded()</span> returns true.</li>
<li><span class="tt">is_valid()</span> returns true.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md87"></a>
Libmagicxx CMake Package Variables</h1>
<p>Below is a table describing the variables provided by Libmagicxx CMake package:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Variable  </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">MAGICXX_FOUND</span>  </td><td class="markdownTableBodyNone">Indicates if Libmagicxx was found by CMake.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">MAGICXX_VERSION</span>  </td><td class="markdownTableBodyNone">The version of the installed Libmagicxx package.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">MAGICXX_SHARED_LIB_AVAILABLE</span>  </td><td class="markdownTableBodyNone">Whether the shared library is available.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">MAGICXX_STATIC_LIB_AVAILABLE</span>  </td><td class="markdownTableBodyNone">Whether the static library is available.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">MAGICXX_INCLUDE_DIR</span>  </td><td class="markdownTableBodyNone">Path to the Libmagicxx include directory.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">MAGICXX_LIB_DIR</span>  </td><td class="markdownTableBodyNone">Path to the Libmagicxx library directory.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">MAGICXX_LICENSE_DIR</span>  </td><td class="markdownTableBodyNone">Path to the Libmagicxx license directory.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">MAGICXX_DOC_DIR</span>  </td><td class="markdownTableBodyNone">Path to the Libmagicxx documentation directory.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">MAGICXX_CMAKE_DIR</span>  </td><td class="markdownTableBodyNone">Path to the Libmagicxx CMake configuration directory.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">MAGICXX_DEFAULT_DATABASE_DIR</span>  </td><td class="markdownTableBodyNone">Path to the default database directory of Libmagicxx.  </td></tr>
</table>
<p>Note: <span class="tt">MAGICXX_DOC_DIR</span> may be empty if the documentation is not installed.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md88"></a>
Examples</h1>
<p>For more examples, refer to the <a href="https://github.com/oguztoraman/libmagicxx/tree/main/examples">examples directory</a>.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md89"></a>
Documentation</h1>
<p>For comprehensive guides, API references, and detailed information, visit the <a href="https://oguztoraman.github.io/libmagicxx/">Libmagicxx Documentation Site</a>. The source code for the documentation site is available in the <span class="tt">documentation/html</span> directory of the repository.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md90"></a>
Uninstalling Libmagicxx</h1>
<p><b>For Debian-based Linux distributions</b>: Use the <span class="tt">apt</span> command to remove the installed <span class="tt">.deb</span> package.</p>
<div class="fragment"><div class="line">sudo apt remove libmagicxx</div>
</div><!-- fragment --><p><b>For Red Hat-based Linux distributions</b>: Use the <span class="tt">dnf</span> command to remove the installed <span class="tt">.rpm</span> package.</p>
<div class="fragment"><div class="line">sudo dnf remove libmagicxx</div>
</div><!-- fragment --><p><b>For Windows</b>: Use the uninstaller provided by the NSIS installer. Navigate to the "Add or Remove Programs" section in the Control Panel, find <span class="tt">libmagicxx</span>, and click "Uninstall."</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md91"></a>
Contributing</h1>
<p>We welcome contributions of all kinds, including bug fixes, feature requests, documentation improvements, and code enhancements. Please see the <a href="https://github.com/oguztoraman/libmagicxx/blob/main/CONTRIBUTING.md">CONTRIBUTING.md</a> file for detailed guidelines on how to contribute or build Libmagicxx from source.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md92"></a>
Security</h1>
<p>For information on reporting security vulnerabilities, please see the <a href="https://github.com/oguztoraman/libmagicxx/blob/main/SECURITY.md">SECURITY.md</a> file.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md93"></a>
Source Code</h1>
<p>Explore the source code of Libmagicxx on <a href="https://github.com/oguztoraman/libmagicxx">GitHub</a>.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md94"></a>
License</h1>
<p>Libmagicxx is licensed under the GNU Lesser General Public License Version 3. For more details, see the <a href="https://github.com/oguztoraman/libmagicxx/blob/main/COPYING.LESSER">COPYING.LESSER</a> file.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md95"></a>
Other Licenses</h2>
<ul>
<li>File and the Magic Number Recognition Library: See the <a href="https://github.com/file/file/blob/master/COPYING">COPYING</a> file.</li>
<li>GoogleTest: See the <a href="https://github.com/google/googletest/blob/main/LICENSE">LICENSE</a> file.</li>
<li>Libgnurx: See the <a href="https://github.com/TimothyGu/libgnurx/blob/master/COPYING.LIB">LICENSE</a> file.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md96"></a>
Disclaimer</h1>
<p>This project is a personal hobby project developed in my own time and with my own resources. It is not affiliated with, endorsed by, or created on behalf of any employer, company, or organization. No proprietary or confidential information belonging to any employer or third party was used in its development. This project is not intended for any commercial purpose, income generation, or professional service. </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on <span class="timestamp"></span> for Libmagicxx by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
